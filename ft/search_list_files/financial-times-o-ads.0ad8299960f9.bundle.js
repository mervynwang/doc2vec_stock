(window.webpackJsonp=window.webpackJsonp||[]).push([["financial-times-o-ads"],{"0ea00b48":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("408ca054")),o=a(n("4538e550")),i=a(n("598c0169"));function a(e){return e&&e.__esModule?e:{default:e}}var s=null;function l(){}function u(e,t,n){var o=[];return e=e||Object.keys(this),r.default.isNonEmptyString(e)?o.push(e):r.default.isArray(e)&&(o=e),o.forEach(c.bind(null,this,t)),r.default.isFunction(n)&&n.call(this,o),this}function c(e,t,n){var o=e[n];o?r.default.isFunction(o[t])?o[t]():r.default.isFunction(o.fire)?o.fire(t):r.default.log.warn("Attempted to %s on a non-slot %s",t,n):r.default.log.warn("Attempted to %s non-existant slot %s",t,n)}function d(e){if(!e)return!1;var t=(0,o.default)("formats");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].sizes;if((i=r.default.isArray(i[0])?i:[i]).filter((function(t){return t[0]===parseInt(e[0],10)&&t[1]===parseInt(e[1],10)})).length)return n}}function f(e,t){e.forEach((function(e){if(e){var n=e.container&&"Responsive"===e.container.getAttribute("data-o-ads-loaded"),r=e.sizes[t]&&e.sizes[t].filter((function(e){return"Responsive"===d(e)})).length>0;if(n&&r)return!1;e.screensize=t,e.fire("breakpoint",{screensize:t})}}))}l.prototype.collapse=function(e){return u.call(this,e,"collapse")},l.prototype.uncollapse=function(e){return u.call(this,e,"uncollapse")},l.prototype.refresh=function(e){return u.call(this,e,"refresh")},l.prototype.clear=function(e){return u.call(this,e,"clear")},l.prototype.destroy=function(e){return u.call(this,e,"destroy",(function(e){var t=this;e.forEach((function(e){t[e]=null,delete t[e]}))}))},l.prototype.submitImpression=function(e){return u.call(this,e,"submitImpression")},l.prototype.initSlot=function(e){if(r.default.isString(e)&&(e=document.getElementById(e)||document.querySelector('[data-o-ads-name="'.concat(e,'"]')))&&e.id&&(e.setAttribute("data-o-ads-name",e.id),e.removeAttribute("id")),!r.default.isElement(e))return r.default.log.error("slot container must be an element!",e),!1;e.setAttribute("aria-hidden","true");var t=new i.default(e,s,this.initLazyLoading.bind(this));return t&&!this[t.name]?(this[t.name]=t,t.fire("slotReady")):this[t.name]&&r.default.log.error("slot %s is already defined!",t.name),t},l.prototype.initRefresh=function(){var e=this;if((0,o.default)("flags").refresh&&(0,o.default)("refresh")){var t=(0,o.default)("refresh");if(this.refreshCount=0,t.time&&!t.inview){setInterval((function n(){!t.max||e.refreshCount++<t.max?e.refresh():e.refreshCount>=t.max&&clearInterval(n)}),1e3*(parseFloat(t.time)||1))}}return this},l.prototype.initRendered=function(){return r.default.on("slotRenderStart",function(e,t){var n=e[t.detail.name];if(n){r.default.extend(n[n.server],t.detail[n.server]);var o=t.detail.gpt.size,i=d(o);n.setFormatLoaded(i),n.maximise(o),n.fire("slotExpand",t.detail)}}.bind(null,this)),this},l.prototype.initResponsive=function(){var e=(0,o.default)("responsive");return r.default.isObject(e)&&(s=r.default.responsive(e,f.bind(null,this))),this},l.prototype.initPostMessage=function(){window.addEventListener("message",function(e,t){var n=r.default.messenger.parse(t.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){var o=n.type.replace("oAds.",""),i=r.default.iframeToSlotName(t.source.window),a=e[i]||!1;if(!a)return void r.default.log.error("Message received from unidentified slot");"adIframeLoaded"===o?a.fire("slotRenderEnded"):"slotClass"===o&&n.slotClass?a.addClass(n.slotClass):"collapse"===o?(a.fire("slotCollapsed"),a.collapse()):/^touch/.test(n.type)?a.fire("touch",n):r.default.log.error("Unknown message received from o-ads-embed")}}.bind(null,this),!1)},l.prototype.flushLazyLoading=function(){this.lazyLoadingObservers=this.lazyLoadingObservers.filter((function(e){return Boolean(!e.root||document.contains(e.root))}))},l.prototype.initLazyLoading=function(e){var t=(0,o.default)("lazyLoad")||e|{};this.lazyLoadingObservers=this.lazyLoadingObservers||[],this.flushLazyLoading();var n=this.lazyLoadingObservers.find((function(e){return t.root==e.root}));if("IntersectionObserver"in window&&!n&&Boolean(t)){var r={};"object"==typeof t&&(t.viewportMargin&&(r.rootMargin=t.viewportMargin),t.threshold&&(r.threshold=t.threshold),r.root=t.root||null),n=new IntersectionObserver(function(e){var t=this;e.filter((function(e){return e.intersectionRect.height||e.intersectionRect.width||e.intersectionRect.top||e.intersectionRect.left})).sort((function(e,t){return e.intersectionRect.top-t.intersectionRect.top})).forEach((function(e){var n=e.target.getAttribute("data-o-ads-name");n&&u.call(t,n,"render")}))}.bind(this),r),this.lazyLoadingObservers.push(n)}return n},l.prototype.forEach=function(e){var t=this;return Object.keys(this).forEach((function(n){var r=t[n];r instanceof i.default&&e.call(t,r)})),this},l.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},l.prototype.debug=function(){var e=r.default.log,t=[];this.forEach((function(e){var n={name:e.name,"unit name":e.gpt.unitName,"creative id":e.gpt.creativeId||"N/A","line item id":e.gpt.lineItemId||"N/A",size:r.default.isArray(e.gpt.size)&&e.gpt.size.join("×")||e.gpt.isEmpty&&"empty"||"N/A",sizes:r.default.isArray(e.sizes)&&e.sizes.map((function(e){return e.join("×")})).join(", ")||"responsive slot",targeting:Object.keys(e.targeting).map((function(t){return"".concat(t,"=").concat(e.targeting[t])})).join(", ")};t.push(n)})),e.start("Creatives"),e.table(t),e.end()};var p=new l;t.default=p,e.exports=t.default},"105008b3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n("408ca054"))&&r.__esModule?r:{default:r};function i(){this.data=[],this.config={}}i.prototype.getUserData=function(e){return e?fetch(e,{timeout:2e3,useCorsProxy:!0,credentials:"include"}).then((function(e){return e.json()})).catch((function(){return Promise.resolve({})})):Promise.resolve({})},i.prototype.getPageData=function(e,t){return e?(t=t||2e3,fetch(e,{timeout:t,useCorsProxy:!0}).then((function(e){return e.json()})).catch((function(){return Promise.resolve({})}))):Promise.resolve({})},i.prototype.handleResponse=function(e){o.default.broadcast("adsAPIComplete"),this.data=e;for(var t=0;t<e.length;t++){var n=e[t],r={},i=n.krux&&n.krux.attributes;if(i&&(r[["user","page"][t]]=this.instance.utils.buildObjectFromArray(i),this.instance.config({behavioralMeta:r})),n.dfp&&n.dfp.targeting&&this.instance.targeting.add(this.instance.utils.buildObjectFromArray(n.dfp.targeting)),this.config.usePageZone&&n.dfp&&n.dfp.adUnit){var a=this.instance.config("gpt");a&&a.zone&&(a.zone=n.dfp.adUnit.join("/"))}}if("function"==typeof this.config.apiResponseHandler){var s=this.config.apiResponseHandler(e);s&&"object"==typeof s&&this.instance.targeting.add(s)}return e},i.prototype.init=function(e,t){return this.config=e,this.instance=t,e?Promise.all([this.getUserData(e.user),this.getPageData(e.page)]).then(this.handleResponse.bind(this)):Promise.resolve()},i.prototype.reset=function(){var e=this;this.data.forEach((function(t){t.dfp&&t.dfp.targeting&&t.dfp.targeting.forEach((function(t){e.instance.targeting.remove(t.key),e.instance.gpt.clearPageTargetingForKey(t.key)}))}))};var a=new i;t.default=a,e.exports=t.default},"2ee34569":function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.clearPerfMarks=s,t.setupMetrics=function(e,t,n){if(!Array.isArray(e))return void this.log.warn("Metrics definitions should be an array. o-Ads will not record any metrics.");e.forEach((function(e){(n||a.default.inSample(e.sampleSize))&&(Array.isArray(e.triggers)?e.triggers:[]).forEach((function(n){!function(e,t,n){document.addEventListener(e,(function r(o){!function(e,t,n){var r=a.default.buildPerfmarkSuffix(t),o=function(e,t){var n=e.map((function(e){return"oAds."+e+t}));if(!performance||!performance.getEntriesByName)return{};var r={};return n.forEach((function(e){var n=performance.getEntriesByName(e),o=e.replace("oAds.","").replace(t,"");if(n&&n.length)r[o]=Math.round(n[0].startTime);else if(t){var i=e.replace(t,""),a=performance.getEntriesByName(i);a&&a.length&&(r[o]=Math.round(a[0].startTime))}})),r}(e.marks,r);if(e.navigation){var i=function(e){if(!performance||!performance.getEntriesByType||!a.default.isArray(e))return{};var t=performance.getEntriesByType("navigation"),n=a.default.isArray(t)&&t[0]||{},r={};return e.forEach((function(e){r[e]="number"==typeof n[e]?Math.round(n[e]):0})),r}(e.navigation);Object.assign(o,i)}var s={category:"ads",action:e.spoorAction,timings:{marks:o}};t&&"pos"in t&&(s.creative={name:t.name,pos:t.pos,size:t.size&&t.size.toString(),creativeId:t.creativeId||0},"boolean"==typeof t.isEmpty&&(s.creative.isEmpty=t.isEmpty));n(s)}(t,o.detail,n),t.multiple||document.removeEventListener(e,r)}))}("oAds."+n,e,t)}))}))},t.markPageChange=function(e,t){s(e,t),a.default.broadcast("pageChange")};var i,a=(i=n("408ca054"))&&i.__esModule?i:{default:i};function s(e,t){var n;if(performance&&performance.getEntriesByType){var o=e.filter((function(e){return t.includes(e.spoorAction)})).map((function(e){return e.marks})),i=(n=[]).concat.apply(n,r(o));performance.getEntriesByType("mark").forEach((function(e){var t=e.name;i.forEach((function(e){t.match("oAds.".concat(e))&&performance.clearMarks(t)}))}))}}},"408ca054":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=A,t.inSample=F,t.default=t.getVersion=t.cookie=t.buildObjectFromArray=t.iframeToSlotName=t.getTimestamp=t.getQueryParamByName=t.getQueryString=t.getLocation=t.parseAttributeName=t.dehyphenise=t.getReferrer=t.attach=t.hash=t.isElement=t.isNonEmptyString=t.isPlainObject=t.isWindow=t.isObject=t.isStorage=t.isFunction=t.isString=t.isArray=void 0;var r=n("ee81ae5d"),o=n("2ee34569"),i=d(n("8cfe6a89")),a=c(n("59dfb521")),s=c(n("c4c88d08")),l=d(n("a40f2874"));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.prototype.hasOwnProperty;function p(e){var t=Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1];return null===e?"Null":void 0===e?"Undefined":t}a.default.getCurrent=a.getCurrent,s.default.start=s.start,s.default.end=s.end,s.default.isOn=s.isOn,s.default.info=s.info,s.default.warn=s.warn,s.default.error=s.error,s.default.table=s.table,s.default.attributeTable=s.attributeTable;var g=function(e){return"Array"===p(e)};t.isArray=g;var h=function(e){return"String"===p(e)};t.isString=h;var m=function(e){return"Function"===p(e)};t.isFunction=m;var v=function(e){return"Storage"===p(e)};t.isStorage=v;var y=function(e){return"Object"===p(e)};t.isObject=y;var b=function(e){return e&&null!==e&&e===window};t.isWindow=b;var w=function(e){var t,n=Object.prototype.hasOwnProperty;if(!e||!y(e)||e.nodeType||b(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||n.call(e,t)};t.isPlainObject=w;var O=function(e){return h(e)&&Boolean(e.length)};t.isNonEmptyString=O;var z=function(e){return e&&1===e.nodeType&&e.tagName||!1};function A(){var e,t,n,r,o=arguments[0]||{},i=arguments.length,a=!1,s=1;if("boolean"==typeof o&&(a=o,o=arguments[1]||{},s=2),"object"==typeof o||m(o)||(o={}),i===s)return o;for(;s<i;s++)if(null!==(e=arguments[s]))for(var l in e)if(e.hasOwnProperty(l)){if(t=o[l],o===(n=e[l]))continue;a&&n&&(w(n)||g(n))?(g(n)?(!1,r=t&&g(t)?t:[]):r=t&&y(t)?t:{},o[l]=A(a,r,n)):void 0!==n&&(o[l]=n)}return o}t.isElement=z;var S=function(e,t,n){var r,o={};if(e&&e.split)for(var i=0,a=(e=e.split(t)).length;i<a;i+=1)(r=e[i].split(n)).length>1&&(o[r[0].trim()]=r.slice(1).join(n));return o};t.hash=S;var P=function(e,t,n,r,o){var i=document.createElement("script"),a=document.getElementsByTagName("script")[0],s=!1;function l(e){s||(e.call(),s=!0,o&&i.parentElement.removeChild(i))}return i.setAttribute("src",e),i.setAttribute("o-ads",""),t&&(i.async="true"),m(n)&&(f.call(i,"onreadystatechange")?i.onreadystatechange=function(){"loaded"===i.readyState&&l(n)}:i.onload=function(){l(n)}),m(r)&&(i.onerror=function(){l(r)}),a.parentNode.insertBefore(i,a),i};t.attach=P;var E=function(){return document.referrer||""};t.getReferrer=E;var j=function(e){return e.replace(/(-)([a-z])/g,(function(e,t,n){return n.toUpperCase()}))};t.dehyphenise=j;var L=function(e){var t=h(e)?e:e.name;return j(t.replace(/(data-)?o-ads-/,""))};t.parseAttributeName=L;var M=function(){return document.location.href||""};t.getLocation=M;var _=function(){return document.location.search.substring(1)||""};t.getQueryString=_;var T=function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};t.getQueryParamByName=T;var k=function(){var e=new Date;return[e.getFullYear(),"0".concat(e.getMonth()+1).slice(-2),"0".concat(e.getDate()).slice(-2),"0".concat(e.getHours()).slice(-2),"0".concat(e.getMinutes()).slice(-2),"0".concat(e.getSeconds()).slice(-2)].join("")};t.getTimestamp=k;var C=function(e){for(var t,n,r=document.getElementsByTagName("iframe"),o=r.length;o--;)if(r[o].contentWindow===e){n=r[o];break}if(n)for(;n.parentNode;){if(t=n.getAttribute("data-o-ads-name"))return t;n=n.parentNode}return!1};t.iframeToSlotName=C;var I=function(e){return e.reduce((function(e,t){return e[t.key]=t.value,e}),{})};t.buildObjectFromArray=I;var R=function(e){var t=document.cookie.match("(^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)"));return t?t.pop():null};t.cookie=R;var N=function(){return l.default||"UNKNOWN"};t.getVersion=N;var x=Math.random();function F(e){return void 0===e||e>x}var D={on:r.on,off:r.off,once:r.once,broadcast:r.broadcast,messenger:i.default,responsive:a.default,log:s.default,isArray:g,isString:h,isFunction:m,isStorage:v,isObject:y,isWindow:b,isPlainObject:w,isNonEmptyString:O,isElement:z,extend:A,hash:S,attach:P,getReferrer:E,dehyphenise:j,parseAttributeName:L,getLocation:M,getQueryString:_,getQueryParamByName:T,getTimestamp:k,iframeToSlotName:C,buildObjectFromArray:I,cookie:R,getVersion:N,setupMetrics:o.setupMetrics,clearPerfMarks:o.clearPerfMarks,markPageChange:o.markPageChange,inSample:F,perfMark:r.perfMark,buildPerfmarkSuffix:r.buildPerfmarkSuffix};t.default=D},"4538e550":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.init=t.default=void 0;var r,o=(r=n("408ca054"))&&r.__esModule?r:{default:r};var i={formats:{MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0},displayLabelWithBorders:!1};function a(){this.store={}}a.prototype.access=function(e,t){var n;return o.default.isPlainObject(e)?(o.default.extend(!0,this.store,e),n=this.store):void 0===t?n=void 0===e?this.store:this.store[e]:(this.store[e]=t,n=t),n},a.prototype.clear=function(e){e?delete this.store[e]:this.store={}},a.prototype.init=function(){var e,t,n;return this.store=o.default.extend(!0,{},i,((n=document.querySelector('link[rel="canonical"]'))&&(t=n.href),{canonical:t}),(e={},Array.from(document.querySelectorAll("script[data-o-ads-config]")).forEach((function(t){e=window.JSON?o.default.extend(e,JSON.parse(t.innerHTML)):"UNSUPPORTED"})),e)),this.store};var s=new a,l=s.access.bind(s);t.default=l;var u=s.init.bind(s);t.init=u;var c=s.clear.bind(s);t.clear=c},"598c0169":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("408ca054")),o=i(n("4538e550"));function i(e){return e&&e.__esModule?e:{default:e}}var a=["fluid"],s=["before","after","never"],l={sizes:function(e,t){if(!1===e||"false"===e)return!1;if(r.default.isArray(t)){var n=/(\d+)x(\d+)/;e.split(",").filter((function(e){return e.length})).forEach((function(e){n.test(e)?e.replace(n,(function(e,n,r){t.push([parseInt(n,10),parseInt(r,10)])})):a.indexOf(e)>=0&&t.push(e)}))}return t},formats:function(e,t){if(!1===e||"false"===e)t=!1;else{var n=(0,o.default)().formats,i=r.default.isArray(e)?e:e.split(",");i.forEach((function(e){n&&n[e]?(e=n[e],r.default.isArray(e.sizes[0])||a.indexOf(e.sizes[0])>=0?e.sizes.forEach((function(e){t.push(e)})):t.push(e.sizes)):r.default.log.error("Slot configured with unknown format ".concat(e))}))}return t},responsiveSizes:function(e,t,n){var o=e.replace(/^sizes/,"").toLowerCase();return r.default.isPlainObject(n)||(n={}),n[o]=l.sizes(t,n[o]||[]),n},responsiveFormats:function(e,t,n){var o=e.replace(/^formats/,"").toLowerCase();return r.default.isPlainObject(n)||(n={}),n[o]=l.formats(t,[]),n},lazyLoadThreshold:function(e){return e.split(",").map(Number)},targeting:function(e,t){return e=r.default.hash(e,";","="),r.default.extend(t,e),t},base:function(e){return""===e||"true"===e?e=!0:"false"===e&&(e=!1),e},collapseEmpty:function(e){if(-1!==s.indexOf(e))return e;r.default.log.warn("Invalid attribute ".concat(e," used for collapse-empty attribute, please use 'before', 'after' or 'never'"))}},u=function(e){!0===e.lazyLoad&&(e.lazyLoad={})},c=function(e){var t=e.detail.slot;t.screensize=e.detail.screensize,t.hasValidSize()?t.uncollapse():(t.collapse(),t.clear())};function d(e,t,n){var i=this,a=(0,o.default)(),s=(0,o.default)("slots")||{},u=(0,o.default)("disableSwipeDefault")||!1;this.container=e,t&&(this.screensize=t),this.outer=this.addContainer(e,{class:"o-ads__outer"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),s=s[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=s.targeting||{},this.sizes=s.sizes||[],this.center=s.center||!1,this.label=s.label||!1,this.outOfPage=s.outOfPage||!1,this.disableSwipeDefault=s.disableSwipeDefault||u,this.companion=!1!==s.companion,this.collapseEmpty=s.collapseEmpty,r.default.isArray(s.formats)?l.formats(s.formats,this.sizes):r.default.isPlainObject(s.formats)&&(this.sizes={},Object.keys(s.formats).forEach((function(e){i.sizes[e]=l.formats(s.formats[e],[])}))),void 0!==s.lazyLoad?this.lazyLoad=s.lazyLoad:this.lazyLoad=(0,o.default)("lazyLoad")||!1;var c=e.querySelector(".o-ads__outer");if(c&&a.displayLabelWithBorders&&this.container.getAttribute("data-o-ads-label")&&r.default.once("slotRenderStart",(function(){c.classList.add("o-ads--label-with-borders")})),this.parseAttributeConfig(),!this.sizes.length&&!r.default.isPlainObject(this.sizes))return r.default.log.error("slot %s has no configured sizes!",this.name),!1;this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),this.initResponsive()}d.prototype.parseAttributeConfig=function(){var e=this;Array.from(this.container.attributes).forEach((function(t){var n=r.default.parseAttributeName(t.name),o=t.value;"formats"===n?e[n]=l[n](o,e.sizes):"collapseEmpty"===n?e.collapseEmpty=l.collapseEmpty(o):"lazyLoadThreshold"===n&&e.lazyLoad?(u(e),e.lazyLoad.threshold=l.lazyLoadThreshold(o)):"lazyLoadViewportMargin"===n&&e.lazyLoad?(u(e),e.lazyLoad.viewportMargin=l.base(o)):l[n]?e[n]=l[n](o,e[n]):/^formats\w*/.test(n)?e.sizes=l.responsiveFormats(n,o,e.sizes):/^sizes\w*/.test(n)?e.sizes=l.responsiveSizes(n,o,e.sizes):e.hasOwnProperty(n)&&(e[n]=l.base(o))}))},d.prototype.getAttributes=function(){var e={};return Array.from(this.container.attributes).forEach((function(t){e[r.default.parseAttributeName(t)]=t.value})),this.attributes=e,this},d.prototype.initLazyLoad=function(){var e=this;return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&r.default.once("masterLoaded",(function(){e.hasValidSize()&&e.render()}),this.container)),this},d.prototype.render=function(){this.fire("slotCanRender"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},d.prototype.initResponsive=function(){return r.default.isPlainObject(this.sizes)&&(this.hasValidSize()||this.collapse(),r.default.on("breakpoint",c,this.container)),this},d.prototype.maximise=function(e){e&&100===Number(e[0])&&100===Number(e[1])&&this.fire("resize",{size:["100%","100%"]})},d.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-".concat(Math.floor(1e4*Math.random())),this.container.setAttribute("data-o-ads-name",this.name)),this},d.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-".concat(this.name)),r.default.broadcast("collapsed",this),this},d.prototype.addClass=function(e){return this.container.classList.add("o-ads-".concat(e)),r.default.broadcast("slotClassAdded",this),this},d.prototype.setFormatLoaded=function(e){return this.container.setAttribute("data-o-ads-loaded",e),this},d.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-".concat(this.name)),this},d.prototype.clear=function(){return r.default.isFunction(this.clearSlot)&&this.clearSlot(),this},d.prototype.destroy=function(){return r.default.isFunction(this.destroySlot)&&(r.default.off("breakpoint",c,this.container),this.destroySlot(),this.outer.parentElement===this.container?this.container.removeChild(this.outer):console.error("Error destroying ad slot. The parent node has already been removed.")),this},d.prototype.submitImpression=function(){return r.default.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},d.prototype.fire=function(e,t){var n=this.gpt||{},o={name:this.name||"",pos:this.targeting&&this.targeting.pos||"",size:n.size||"",creativeId:n.creativeId||"",slot:this};return"boolean"==typeof n.isEmpty&&(o.isEmpty=n.isEmpty),r.default.isPlainObject(t)&&r.default.extend(o,t),r.default.broadcast(e,o,this.container),this},d.prototype.addContainer=function(e,t){var n="<div ";return t&&Object.keys(t).forEach((function(e){var r=t[e];n+="".concat(e,"=").concat(r," ")})),n+="></div>",e.insertAdjacentHTML("beforeend",n),e.lastChild},d.prototype.hasValidSize=function(e){return!(e=e||this.screensize)||!r.default.isPlainObject(this.sizes)||!1!==this.sizes[e]},d.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},d.prototype.labelContainer=function(){var e;return!0===this.label||"left"===this.label?e="label-left":"right"===this.label&&(e="label-right"),e&&!(0,o.default)("displayLabelWithBorders")&&this.container.classList.add("o-ads--".concat(e)),this};var f=d;t.default=f,e.exports=t.default},"59dfb521":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrent=f,t.default=function(e,t){if(!a.default.isFunction(t))return!1;return o=e,r=t,d(u()),document.body.addEventListener("oViewport.orientation",c),document.body.addEventListener("oViewport.resize",c),s.default.listenTo("orientation"),s.default.listenTo("resize"),f()},t.setThrottleInterval=void 0;var r,o,i,a=l(n("408ca054")),s=l(n("939738f6"));function l(e){return e&&e.__esModule?e:{default:e}}function u(){var e,t=s.default.getSize(!0);return Object.keys(o).forEach((function(n){var r=o[n];t.width>=r[0]&&t.height>=r[1]&&(!e||r[0]>=o[e][0])&&(e=n)})),e}function c(){var e=u();i!==e&&(d(e),r(e))}function d(e){i=e}function f(){return i}var p=s.default.setThrottleInterval;t.setThrottleInterval=p},"6811401b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("4538e550")),o=c(n("0ea00b48")),i=c(n("afdd9346")),a=c(n("105008b3")),s=c(n("8ab784ed")),l=c(n("ce416b6e")),u=c(n("408ca054"));function c(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(){document.addEventListener("o.DOMContentLoaded",p),window&&!window.oAds&&(window.oAds=this)}r.default.init=r.init,r.default.clear=r.clear,f.prototype.config=r.default,f.prototype.slots=o.default,f.prototype.gpt=i.default,f.prototype.api=a.default,f.prototype.moat=s.default,f.prototype.targeting=l.default,f.prototype.utils=u.default,f.prototype.init=function(e){var t=this;e=e||{},this.config.init();var n=Object.assign(e,{nonPersonalized:!e.disableConsentCookie});this.config(n),e.disableConsentCookie?this.consents={behavioral:!0}:this.consents=function(){var e=document.cookie.match(/FTConsent=([^;]+)/);if(!e)return{behavioral:!1,programmatic:!1};var t=decodeURIComponent(e[1]);return{behavioral:-1!==t.indexOf("behaviouraladsOnsite:on"),programmatic:-1!==t.indexOf("programmaticadsOnsite:on")}}(),this.consents.behavioral&&this.utils.broadcast("consentBehavioral"),this.consents.programmatic&&this.utils.broadcast("consentProgrammatic");var r=this.config().targetingApi,o=this.config().validateAdsTraffic;if(this.utils.broadcast("initialising"),!r&&!o)return Promise.resolve(this.initLibrary());var i=r?this.api.init(r,this):Promise.resolve(),a=o?this.moat.init():Promise.resolve();return Promise.all([i,a]).then((function(){return t.initLibrary()})).catch((function(e){return t.utils.log.error(e),t.utils.log.warn("There was an error with the targeting API or the Moat invalid traffic script. Loading the o-ads library anyway, but the ads may not work as expected..."),t.initLibrary()}))},f.prototype.updateContext=function(e){var t=this;return this.config(e),e.targetingApi?(this.api.reset(),this.api.init(e.targetingApi,this).then((function(){t.gpt.updatePageTargeting(t.targeting.get())}))):Promise.resolve()},f.prototype.initLibrary=function(){return this.slots.init(),this.consents.programmatic&&(this.config({nonPersonalized:!1}),this.targeting.add({cc:"y"})),this.gpt.init(),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),document.removeEventListener("o.DOMContentLoaded",p),this},f.prototype.debug=function(){var e=!0;localStorage.getItem("oAds")?e=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.slots.debug(),this.targeting.debug(),e&&localStorage.removeItem("oAds")},f.prototype.version=function(){this.utils.log.warn("DEPRECATION NOTICE: Ads.version() will be deprecated in favour of Ads.getVersion()"),this.utils.log("o-ads version: ".concat(this.utils.getVersion()))},f.prototype.getVersion=function(){return this.utils.getVersion()};var p=function(){return g.init().then((function(){Array.from(document.querySelectorAll(".o-ads, [data-o-ads-name]")).forEach(g.slots.initSlot.bind(g.slots))}))};f.prototype.initAll=p;var g=new f,h=g;t.default=h,e.exports=t.default},"8ab784ed":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n("408ca054"))&&r.__esModule?r:{default:r};var i=function(){};i.prototype.init=function(){var e=new Promise((function(e,t){var n=setInterval((function(){window.moatPrebidApi&&(clearInterval(n),clearTimeout(r),e())}),50),r=setTimeout((function(){clearInterval(n),o.default.broadcast("moatTimeout"),t(new Error("Timeout while fetching moat invalid traffic script"))}),1e3)})),t=function(){o.default.broadcast("IVTComplete")};return e.then(t,t),e};var a=new i;t.default=a,e.exports=t.default},"8cfe6a89":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={post:function(e,t){e="string"==typeof e?e:JSON.stringify(e),(t=arguments[1]||window.top).postMessage(e,"*")},parse:function(e){if("string"!=typeof e||"{"!==e[0])return e;try{return JSON.parse(e)}catch(t){return e}}};t.default=r,e.exports=t.default},a30175f7:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.filterNestedParams=s,t.stripUrlParams=function(e){for(var t=e.href,n=e.filters,i=new URL(t),a=0,l=Object.entries(n);a<l.length;a++){var u=r(l[a],2),c=u[0],d=u[1];if("root"===c){var f,p=o(d);try{for(p.s();!(f=p.n()).done;){var g=f.value;i.searchParams.delete(g)}}catch(e){p.e(e)}finally{p.f()}}else{var h=i.searchParams.get(c);h&&i.searchParams.set(c,s(h,d))}}return i.href},t.SEARCH_PARAMS=void 0;function s(e,t){if(!t||t.length<1)return e;var n,r=new URLSearchParams(e),i=o(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.delete(a)}}catch(e){i.e(e)}finally{i.f()}return r.toString()}t.SEARCH_PARAMS=["q","kw"]},a40f2874:function(e,t,n){"use strict";e.exports="17.1.0"},afdd9346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("4538e550")),o=s(n("408ca054")),i=s(n("ce416b6e")),a=n("a30175f7");function s(e){return e&&e.__esModule?e:{default:e}}var l=!1;function u(){window.googletag||(window.googletag={},window.googletag.cmd=[]),o.default.attach("//securepubads.g.doubleclick.net/tag/js/gpt.js",!0,(function(){o.default.broadcast("serverScriptLoaded")}),(function(e){o.default.broadcast("adServerLoadError",e)}))}function c(e){var t=(0,r.default)("nonPersonalized")?1:0;googletag.pubads().addEventListener("slotRenderEnded",m),function(e){e.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}(e),function(e){var t=e.rendering;"sync"===t?googletag.pubads().enableSyncRendering():"sra"===t?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}(e),d(i.default.get()),function(){var e=(0,r.default)("collapseEmpty");"before"===e&&googletag.pubads().collapseEmptyDivs(!0);"after"===e&&googletag.pubads().collapseEmptyDivs(!1)}();var n=(0,a.stripUrlParams)({href:window.location.href,filters:{root:a.SEARCH_PARAMS}});return googletag.enableServices(),googletag.pubads().setTargeting("url",n),googletag.pubads().setRequestNonPersonalizedAds(t),!0}function d(e){return o.default.isPlainObject(e)?googletag.cmd.push((function(){var t=googletag.pubads();Object.keys(e).forEach((function(n){t.setTargeting(n,String(e[n]))}))})):o.default.log.warn("invalid targeting object passed",e),e}function f(e,t){var n=t.detail.slot;"gpt"===n.server&&(n.gpt={},o.default.extend(n,e),googletag.cmd.push((function(){n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()})))}function p(e){var t=e.detail.slot;o.default.isFunction(t.display)&&t.display()}function g(e){return window.googletag.cmd.push((function(){var t=e.detail.targeting;o.default.isPlainObject(t)&&Object.keys(t).forEach((function(n){e.detail.slot.gpt.slot.setTargeting(n,t[n])})),googletag.pubads().refresh([e.detail.slot.gpt.slot])})),this}function h(e){var t=e.detail.slot.gpt.iframe,n=e.detail.size;t.width=n[0],t.height=n[1]}function m(e){var t={gpt:{}},n=e.slot.getSlotId(),r=n.getDomId().split("-"),i="google_ads_iframe_".concat(n.getId());t.type=r.pop(),t.name=r.join("-"),t.size=e.size&&e.size.length?e.size.join():"",t.creativeId=e.creativeId;var a=e.slot.getTargetingMap&&e.slot.getTargetingMap();a&&a.pos&&(t.pos=a.pos.length?a.pos.join():"");var s=t.gpt;s.isEmpty=e.isEmpty,s.size=e.size,s.creativeId=e.creativeId,s.lineItemId=e.lineItemId,s.serviceName=e.serviceName;var l=document.getElementById(i);l?(l.setAttribute("tabindex","-1"),l.setAttribute("aria-hidden","true"),l.setAttribute("role","presentation"),l.setAttribute("title","Advertisement"),s.iframe=l):o.default.log.warn("No iFrame found matching GPT SlotID"),o.default.broadcast("slotRenderStart",t)}var v={defineSlot:function(){var e=this;return window.googletag.cmd.push((function(){e.gpt.id="".concat(e.name,"-gpt"),e.inner.setAttribute("id",e.gpt.id),e.setUnitName(),e.outOfPage?e.gpt.slot=googletag.defineOutOfPageSlot(e.gpt.unitName,e.gpt.id):l&&o.default.isObject(e.sizes)?(e.initResponsive(),e.gpt.slot=googletag.defineSlot(e.gpt.unitName,[],e.gpt.id).defineSizeMapping(e.gpt.sizes)):e.gpt.slot=googletag.defineSlot(e.gpt.unitName,e.sizes,e.gpt.id)})),this},clearSlot:function(e){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(e=e||this.gpt.slot,googletag.pubads().clear([e]))},initResponsive:function(){var e=this;return window.googletag.cmd.push((function(){o.default.on("breakpoint",(function(t){var n=t.detail.slot,r=t.detail.screensize;y({res:r}),n.hasValidSize(r)&&(n.gpt.iframe?n.fire("refresh"):e.defer||n.display())}),e.container);var t=googletag.sizeMapping();Object.keys(l).forEach((function(n){e.sizes[n]&&t.addSize(l[n],e.sizes[n])})),e.gpt.sizes=t.build()})),this},destroySlot:function(e){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(e=e||this.gpt.slot,googletag.destroySlots([e]))},display:function(){var e=this;return window.googletag.cmd.push((function(){e.fire("slotGoRender"),googletag.display(e.gpt.id)})),this},setUnitName:function(){var e=this;return window.googletag.cmd.push((function(){var t,n=(0,r.default)("gpt")||{},i=e.container.getAttribute("data-o-ads-gpt-unit-name");if(o.default.isNonEmptyString(i))t=i;else if(o.default.isNonEmptyString(n.unitName))t=n.unitName;else{var a=n.network,s=n.site,l=n.zone;t="/".concat(a),t+=o.default.isNonEmptyString(s)?"/".concat(s):"",t+=o.default.isNonEmptyString(l)?"/".concat(l):""}e.gpt.unitName=t})),this},addServices:function(e){var t=this;return window.googletag.cmd.push((function(){var n=(0,r.default)("gpt")||{};(e=e||t.gpt.slot).addService(googletag.pubads()),n.companions&&!1!==t.companion&&e.addService(googletag.companionAds())})),this},setCollapseEmpty:function(){var e=this;return window.googletag.cmd.push((function(){var t=e.collapseEmpty||(0,r.default)("collapseEmpty")||"never";"before"===t?e.gpt.slot.setCollapseEmptyDiv(!0,!0):"after"===t?e.gpt.slot.setCollapseEmptyDiv(!0):"never"===t&&e.gpt.slot.setCollapseEmptyDiv(!1)})),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){var e=(t=this.gpt.iframe,(n=t.contentWindow.document.querySelector("[data-o-ads-impression-url]"))?n.dataset.oAdsImpressionUrl:(o.default.log.warn("Impression URL not found, this is set via a creative template."),!1));e&&o.default.attach(e,!0,(function(){o.default.log.info("Impression Url requested")}),(function(){o.default.log.info("CORS request to submit an impression failed")}),!0)}else o.default.log.warn("Attempting to call submitImpression on a non-oop slot");var t,n},setURL:function(e){var t=this;return window.googletag.cmd.push((function(){e=e||t.gpt.slot;var n=(0,r.default)("canonical");e.set("page_url",n||o.default.getLocation())})),this},setTargeting:function(e){var t=this;return window.googletag.cmd.push((function(){e=e||t.gpt.slot,o.default.isPlainObject(t.targeting)&&Object.keys(t.targeting).forEach((function(n){e.setTargeting(n,t.targeting[n])}))})),this}};function y(e){window.googletag?d(o.default.isPlainObject(e)?e:i.default.get()):o.default.log.warn("Attempting to set page targeting before the GPT library has initialized")}var b={init:function(){var e=(0,r.default)("gpt")||{};l=(0,r.default)("responsive"),u(),o.default.on("slotReady",f.bind(null,v)),o.default.on("slotCanRender",p),o.default.on("refresh",g),o.default.on("resize",h),googletag.cmd.push(c.bind(null,e))},setup:c,updateCorrelator:function(){o.default.log.warn("[DEPRECATED]: Updatecorrelator is being phased out by google and removed from o-ads in future releases."),googletag.cmd.push((function(){googletag.pubads().updateCorrelator()}))},updatePageTargeting:y,clearPageTargeting:function(){window.googletag?googletag.cmd.push((function(){googletag.pubads().clearTargeting()})):o.default.log.warn("Attempting to clear page targeting before the GPT library has initialized")},clearPageTargetingForKey:function(e){window.googletag?e?googletag.cmd.push((function(){googletag.pubads().clearTargeting(e)})):o.default.log.warn("Refusing to unset all keys - a key must be specified"):o.default.log.warn("Attempting to clear page targeting before the GPT library has initialized")},hasGPTLoaded:function(){return!(!window.googletag||!window.googletag.apiReady)},loadGPT:u,debug:function(){var e=o.default.log,t=(0,r.default)("gpt");t&&(e.start("gpt"),e.attributeTable(t),e.end())}};t.default=b,e.exports=t.default},c4c88d08:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.attributeTable=t.table=t.end=t.start=t.info=t.error=t.warn=t.isOn=void 0;var r=n("408ca054");function o(){var e,t;-1==="log warn error info".indexOf(arguments[0])?(e="log",t=0):(e=arguments[0],t=1);var n=[].slice.call(arguments,t);o.isOn(e)&&window.console[e].apply(window.console,n)}t.isOn=function(e){return(localStorage&&localStorage.getItem("oAds")||-1!==location.search.indexOf("DEBUG=OADS"))&&window.console&&window.console[e]};t.warn=function(){var e=["warn"].concat([].slice.call(arguments,0));o.apply(null,e)};t.error=function(){var e=["error"].concat([].slice.call(arguments,0));o.apply(null,e)};t.info=function(){var e=["info"].concat([].slice.call(arguments,0));o.apply(null,e)};t.start=function(e){o.isOn("groupCollapsed")&&window.console.groupCollapsed(e||"o-ads")};t.end=function(){o.isOn("groupEnd")&&window.console.groupEnd()};t.table=function(e,t){o.isOn("log")&&window.console&&(console.table?console.table(e,t):console.log(e))};t.attributeTable=function(e,t){if(o.isOn("log")&&window.console)if(e&&console.table){var n=Object.keys(e).map((function(t){return{key:t,value:(0,r.isArray)(e[t])||(0,r.isObject)(e[t])?JSON.stringify(e[t]):e[t]}}));console.table(n,t)}else console.log(e)}},ce416b6e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("4538e550")),o=i(n("408ca054"));function i(e){return e&&e.__esModule?e:{default:e}}var a={};function s(){}s.prototype.get=function(){var e={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};for(var t in o.default.extend(a,this.getFromConfig(),this.socialFlow(),this.getVersion()),e)e.hasOwnProperty(t)&&o.default.extend(a,e[t]());return a},s.prototype.add=function(e){o.default.isPlainObject(e)&&o.default.extend(a,e)},s.prototype.remove=function(e){a[e]&&delete a[e]},s.prototype.clear=function(){a={}},s.prototype.getFromConfig=function(){var e=(0,r.default)("dfp_targeting")||{};return o.default.isPlainObject(e)||o.default.isString(e)&&(e=o.default.hash(e,";","=")),e},s.prototype.getVersion=function(){if((0,r.default)("passOAdsVersion"))return{OADS_VERSION:o.default.getVersion()}},s.prototype.socialFlow=function(){var e=o.default.getQueryParamByName("socialflow");if(e)return{socialflow:e}},s.prototype.getSocialReferrer=function(){var e,t=o.default.getReferrer(),n={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru","dianomi.com":"dia",google:"goo"};return Object.keys(n).forEach((function(r){new RegExp("^http(|s)://(www.)*(".concat(r,")")).test(t)&&(e=n[r])})),e&&{socref:e}||{}},s.prototype.searchTerm=function(){var e=o.default.hash(o.default.getQueryString(),/\&|\;/,"="),t=e.q||e.s||e.query||e.queryText||e.searchField||void 0;return t&&""!==t&&(t=unescape(t).toLowerCase().replace(/[';\^\+]/g," ").replace(/\s+/g," ").trim()),{kw:t}},s.prototype.timestamp=function(){return{ts:o.default.getTimestamp()}},s.prototype.responsive=function(){return(0,r.default)("responsive")?{res:o.default.responsive.getCurrent()}:{}},s.prototype.debug=function(){var e=o.default.log,t=this.get();0!==Object.keys(t).length&&(e.start("Targeting"),e.attributeTable(this.get()),e.end())};var l=new s;t.default=l,e.exports=t.default},ee81ae5d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPerfmarkSuffix=o,t.broadcast=function(e,t,n){n=n||document.body||document.documentElement,e="oAds.".concat(e);var i={bubbles:!0,cancelable:!0,detail:t},a=o("object"==typeof t&&"pos"in t?{pos:t.pos,name:t.name,size:t.size&&t.size.length?t.size.toString():"",creativeId:t.creativeId}:{});r(e+a),n.dispatchEvent(new CustomEvent(e,i))},t.on=i,t.off=function(e,t,n){e="oAds.".concat(e),(n=n||document.body||document.documentElement).removeEventListener(e,t)},t.once=function(e,t,n){i(e,(function(n){(n.target||n.srcElement).removeEventListener(e="oAds.".concat(e),t),t&&(t(n),t=null)}),n)},t.perfMark=void 0;var r=function(e){var t=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;t&&t.mark&&(t.clearMarks(e),t.mark(e))};function o(e){var t="";return e&&"object"==typeof e&&"pos"in e&&"name"in e&&(t="__"+[e.pos,e.name,e.size,e.creativeId].join("__")),t}function i(e,t,n){e="oAds.".concat(e),(n=n||document.body||document.documentElement).addEventListener(e,t)}t.perfMark=r}}]);
//# sourceMappingURL=financial-times-o-ads.0ad8299960f9.bundle.js.map